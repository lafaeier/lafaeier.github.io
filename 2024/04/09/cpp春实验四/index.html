<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>cpp春实验四 | Hephaestus</title><meta name="author" content="surtr lafael"><meta name="copyright" content="surtr lafael"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="实验目的模拟动物园的经营，包含类：  $Money$，该类用于货币流通，包含美元美分的互换，总金额的计算，重载运算符等操作 $Animal$，作为抽象函数，包含虚函数，是其他水三个动物类的父类，包含进食，身体数据等成员 $Person$，作为抽象函数，包含人的基本要素，如姓，名，年龄等 $Elephant$，作为$Animal$的子类，包含了大象的独特数据和进食类的相关函数 $Giraffe$，">
<meta property="og:type" content="article">
<meta property="og:title" content="cpp春实验四">
<meta property="og:url" content="https://www.lafael.top/2024/04/09/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E5%9B%9B/index.html">
<meta property="og:site_name" content="Hephaestus">
<meta property="og:description" content="实验目的模拟动物园的经营，包含类：  $Money$，该类用于货币流通，包含美元美分的互换，总金额的计算，重载运算符等操作 $Animal$，作为抽象函数，包含虚函数，是其他水三个动物类的父类，包含进食，身体数据等成员 $Person$，作为抽象函数，包含人的基本要素，如姓，名，年龄等 $Elephant$，作为$Animal$的子类，包含了大象的独特数据和进食类的相关函数 $Giraffe$，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.imgtp.com/2024/04/09/6ykkiLXS.jpg">
<meta property="article:published_time" content="2024-04-09T08:23:09.000Z">
<meta property="article:modified_time" content="2024-04-11T08:47:21.089Z">
<meta property="article:author" content="surtr lafael">
<meta property="article:tag" content="c++实验">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.imgtp.com/2024/04/09/6ykkiLXS.jpg"><link rel="shortcut icon" href="https://img2.imgtp.com/2024/03/24/JHOMnh4m.jpg"><link rel="canonical" href="https://www.lafael.top/2024/04/09/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E5%9B%9B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":300,"languages":{"author":"作者: surtr lafael","link":"链接: ","source":"来源: Hephaestus","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'cpp春实验四',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-11 16:47:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img2.imgtp.com/2024/04/09/6ykkiLXS.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Hephaestus"><span class="site-name">Hephaestus</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">cpp春实验四</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-09T08:23:09.000Z" title="发表于 2024-04-09 16:23:09">2024-04-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-04-11T08:47:21.089Z" title="更新于 2024-04-11 16:47:21">2024-04-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%9E%E8%AE%AD/">实训</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%9E%E8%AE%AD/%E5%AE%9E%E8%AE%AD%E5%89%8D%E7%BC%80/">实训前缀</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>41分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="cpp春实验四"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><hr>
<h1 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h1><p>模拟动物园的经营，包含类：</p>
<ul>
<li>$Money$，该类用于货币流通，包含美元美分的互换，总金额的计算，重载运算符等操作</li>
<li>$Animal$，作为抽象函数，包含虚函数，是其他水三个动物类的父类，包含进食，身体数据等成员</li>
<li>$Person$，作为抽象函数，包含人的基本要素，如姓，名，年龄等</li>
<li>$Elephant$，作为$Animal$的子类，包含了大象的独特数据和进食类的相关函数</li>
<li>$Giraffe$，作为$Animal$的子类，包含了长颈鹿的独特数据和进食类的相关函数</li>
<li>$Monkey$，作为$Animal$的子类，包含了猴子的独特数据和进食类的相关函数</li>
<li>$AnimalEnclosure$，该类用于统一三种动物，包含兽栏的清洁度，兽栏的开闭，兽栏的打扫，数据的返回和三种动物的对象等元素</li>
<li>$Visitor$，作为$Person$的子类，包含了游客的独特信息：id</li>
<li>$Zookeeper $，作为$Person$的子类，包含了清理工的行为：打扫，和对应的成员变量。存在结束判定</li>
<li>$Foodseller$,作为Person的子类,包含了食品售卖商的行为：售卖水果，维护一个水果数目数组，包含了类$Money$，用于交易。存在结束判定</li>
<li>$Child$，作为$Visitor$的子类，包含了孩子的行为：喂食。</li>
<li>$Adult$，作为$Visitor$的子类,包含了成人的行为：购票，购买食物。维护一个孩子的动态数组</li>
<li>$Zoo$，该类用于实验动物园的运营。包含$Zookeeper $，$Foodseller$，和$Adult$的动态数组。含有两个函数实现动物园的一天运营和长期运营。</li>
<li>$foodmoney$，价目表，静态数据成员</li>
<li>$feedfood()$，多态的实现</li>
</ul>
<h1 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h1><h2 id="Money"><a href="#Money" class="headerlink" title="$Money$"></a>$Money$</h2><p>这个类是动物园货币流的基础，包含了</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> dollars;<span class="comment">//拆分的美元</span></span><br><span class="line"><span class="type">int</span> cents;<span class="comment">//拆分的美分</span></span><br><span class="line"><span class="type">double</span> dollar;<span class="comment">//美元单位金额</span></span><br><span class="line"><span class="type">double</span> cent;<span class="comment">//美分单位金额</span></span><br></pre></td></tr></table></figure>
<p>四个数据成员，实现了总金额在美分和美元间的转换</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">turn_dol</span><span class="params">()</span></span>;<span class="comment">//得到单位美元</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">turn_cen</span><span class="params">()</span></span>;<span class="comment">//得到单位美分</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">outdol</span><span class="params">()</span></span>;<span class="comment">//返回美元单位</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">outcen</span><span class="params">()</span></span>;<span class="comment">//返回美分单位</span></span><br></pre></td></tr></table></figure>
<p>以上为返回数据类函数和金额转换函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Money&amp; <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符+</span></span><br><span class="line">Money&amp; <span class="keyword">operator</span>-(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符-</span></span><br><span class="line">Money&amp; <span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符+=</span></span><br><span class="line">Money&amp; <span class="keyword">operator</span>-=(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符-=</span></span><br></pre></td></tr></table></figure>
<p>为重载函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Money&amp; Money::<span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符+</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar += q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>-(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符-</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar -= q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符+=</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar += q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>-=(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符-=</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar -= q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> Money:: <span class="keyword">operator</span>&gt;(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;dollar &gt; q)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> Money:: <span class="keyword">operator</span>&lt;(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符&lt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;dollar &lt; q)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现如上</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Money</span>();</span><br><span class="line"><span class="built_in">Money</span>(<span class="type">int</span>, <span class="type">int</span>);<span class="comment">//初始化并得到各单位总量和个数;</span></span><br><span class="line">~<span class="built_in">Money</span>();</span><br></pre></td></tr></table></figure>
<p>构造函数和析构函数</p>
<p>其中，默认构造函数还会调用</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Money::writeIN</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span><span class="comment">//写入美元美分</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dollars = a;</span><br><span class="line">    cents = b;</span><br><span class="line">    <span class="built_in">turn_dol</span>();</span><br><span class="line">    <span class="built_in">turn_cen</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>完成初始化</p>
<p>实现如下</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Money::<span class="built_in">Money</span>()<span class="comment">//初始设置为0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">writeIN</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Money::<span class="built_in">Money</span>(<span class="type">int</span> a, <span class="type">int</span> b) :<span class="built_in">dollars</span>(a), <span class="built_in">cents</span>(b)<span class="comment">//带入值的初始化并得到各单位总量和个数;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">turn_dol</span>();</span><br><span class="line">    <span class="built_in">turn_cen</span>();</span><br><span class="line">&#125;</span><br><span class="line">Money::~<span class="built_in">Money</span>()</span><br><span class="line">&#123;&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Animal"><a href="#Animal" class="headerlink" title="$Animal$"></a>$Animal$</h2><p>这个类是大象，长颈鹿，猴三种动物实现的基础</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> weight;</span><br><span class="line"><span class="type">int</span> total_food;</span><br><span class="line"><span class="type">int</span> most_food;</span><br><span class="line"><span class="type">int</span> daily_food;</span><br></pre></td></tr></table></figure>
<p>有如上的数据成员</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>=<span class="number">0</span>;<span class="comment">//返回最值</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>=<span class="number">0</span>;<span class="comment">//写入最值</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>=<span class="number">0</span>;<span class="comment">//写入每日数据</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>=<span class="number">0</span>;<span class="comment">//返回每日数据</span></span><br></pre></td></tr></table></figure>
<p>同时构建虚函数，对动物每天能吃到的食物的最大值和已经吃了的食物的值进行记录</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Animal::<span class="built_in">Animal</span>()<span class="comment">//先初始化，后子类初始化，覆盖</span></span><br><span class="line">&#123;</span><br><span class="line">    weight=<span class="number">0</span>;</span><br><span class="line">    total_food=<span class="number">0</span>;</span><br><span class="line">    daily_food=<span class="number">0</span>;</span><br><span class="line">    most_food=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Animal::~<span class="built_in">Animal</span>()&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>构造与析构如上</p>
<h2 id="Elephant-amp-Giraffe-amp-Monkey"><a href="#Elephant-amp-Giraffe-amp-Monkey" class="headerlink" title="$Elephant$&amp;$Giraffe$&amp;$Monkey $"></a>$Elephant$&amp;$Giraffe$&amp;$Monkey $</h2><p>继承自$Animal$，为三种动物之一</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>;<span class="comment">//返回最值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入最值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入每日食物</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>;<span class="comment">//返回每日食物</span></span><br></pre></td></tr></table></figure>
<p>有函数成员如上</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Elephant::remost</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Elephant::writemost</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    most_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Elephant::writedaily</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    daily_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入日常食物</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Elephant::redaily</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回日常食物</span></span><br></pre></td></tr></table></figure>
<p>实现如上，这样设计是为了每日结算时统一结算数量，以便对兽栏进行修改。</p>
<h2 id="AnimalEnclosure"><a href="#AnimalEnclosure" class="headerlink" title="$AnimalEnclosure$"></a>$AnimalEnclosure$</h2><p>是兽栏类，该类将包含三种动物组合，可以实现三个兽栏的开闭，清理，统计。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">string name;</span><br><span class="line"><span class="type">int</span> closeday;</span><br><span class="line"><span class="type">int</span> clean_level;</span><br><span class="line"><span class="type">bool</span> open_close;</span><br><span class="line"><span class="type">int</span> closetime;</span><br><span class="line">Giraffe giraffes;</span><br><span class="line">Elephant elephants;</span><br><span class="line">Monkey monkeys;</span><br></pre></td></tr></table></figure>
<p>有数据成员如上，$closeday$用于记录兽栏关闭的时间，$openclose$用来反馈开闭状态，$cleanlevel$用来记录兽栏的清洁度水平，$closetime$用来记录关闭的总次数。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">AnimalEnclosure::<span class="built_in">AnimalEnclosure</span>()<span class="comment">//构造初始</span></span><br><span class="line">&#123;</span><br><span class="line">    clean_level=<span class="number">0</span>;</span><br><span class="line">    open_close=<span class="literal">true</span>;</span><br><span class="line">    closeday=<span class="number">0</span>;</span><br><span class="line">    closetime=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">AnimalEnclosure::~<span class="built_in">AnimalEnclosure</span>()&#123;&#125;;<span class="comment">//析构</span></span><br></pre></td></tr></table></figure>
<p>构造和析构函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">re_cle</span><span class="params">()</span></span>;<span class="comment">//返回清洁度</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">re_opc</span><span class="params">()</span></span>;<span class="comment">//返回打开与否；</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">out</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">writecle</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//修改清洁度</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">writeopen</span><span class="params">(<span class="type">bool</span>)</span></span>;<span class="comment">//修改开闭</span></span><br></pre></td></tr></table></figure>
<p>以上为数据返回和修改函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::check1</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(closetime==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        closetime=<span class="number">0</span>;<span class="comment">//先检查关闭时间</span></span><br><span class="line">        clean_level=<span class="number">0</span>;<span class="comment">//打扫后归0；</span></span><br><span class="line">        open_close=<span class="literal">true</span>;<span class="comment">//重新开关</span></span><br><span class="line">        <span class="built_in">open</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该函数用于每日检查兽栏状态，若关闭时间为1，则说明时间够了，次数+1，状态为开，时常归0</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">AnimalEnclosure::check2</span><span class="params">(<span class="type">int</span> i)</span><span class="comment">//检查,每日结束时检查，清洁度小于2000的为开，大于2000变为关。</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(clean_level&gt;<span class="number">2000</span>)<span class="comment">//关馆打扫，隔日清零</span></span><br><span class="line">    &#123;</span><br><span class="line">    open_close=<span class="literal">false</span>; </span><br><span class="line">    closeday++;</span><br><span class="line">    closetime=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">close</span>(i);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//漏网检查</span></span><br><span class="line">    &#123;</span><br><span class="line">    open_close=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//状态为关的还要一天闭馆</span></span><br></pre></td></tr></table></figure>
<p>对总体进行检查，若清洁度大于设定值，则闭馆修正，返回false，这意味着要调用zookeeper的函数了。否则舍设置状态为开（防止漏算。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::close</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;大象的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;长颈鹿的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;猴子的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::open</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(i)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;大象的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;长颈鹿的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;猴子的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每日结束后对兽栏进行检查，作为播报的一部份</p>
<h2 id="Person"><a href="#Person" class="headerlink" title="$Person$"></a>$Person$</h2><p>是游客类，清理工类和水果商类实现的基础。</p>
<p>会在创建时自动生成姓名和年龄</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Person::<span class="built_in">Person</span>() &#123;</span><br><span class="line">    <span class="type">int</span> index1 = <span class="built_in">rand</span>() % <span class="number">99</span>;</span><br><span class="line">    <span class="type">int</span> index2 = <span class="built_in">rand</span>() % <span class="number">49</span>;</span><br><span class="line">    name = forname[index1] + biname[index2];</span><br><span class="line">&#125;;<span class="comment">//写入名字</span></span><br><span class="line">Person::~<span class="built_in">Person</span>() &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>有构造和析构函数如上，构造时将从两个数组中随机组成名字</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">string name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line">string forname[<span class="number">100</span>] = &#123;</span><br><span class="line"><span class="string">&quot;赵&quot;</span>, <span class="string">&quot;钱&quot;</span>, <span class="string">&quot;孙&quot;</span>, <span class="string">&quot;李&quot;</span>, <span class="string">&quot;周&quot;</span>, <span class="string">&quot;吴&quot;</span>, <span class="string">&quot;郑&quot;</span>, <span class="string">&quot;王&quot;</span>, <span class="string">&quot;冯&quot;</span>, <span class="string">&quot;陈&quot;</span>,</span><br><span class="line"><span class="string">&quot;褚&quot;</span>, <span class="string">&quot;卫&quot;</span>, <span class="string">&quot;蒋&quot;</span>, <span class="string">&quot;沈&quot;</span>, <span class="string">&quot;韩&quot;</span>, <span class="string">&quot;杨&quot;</span>, <span class="string">&quot;朱&quot;</span>, <span class="string">&quot;秦&quot;</span>, <span class="string">&quot;尤&quot;</span>, <span class="string">&quot;许&quot;</span>,</span><br><span class="line"><span class="string">&quot;何&quot;</span>, <span class="string">&quot;吕&quot;</span>, <span class="string">&quot;施&quot;</span>, <span class="string">&quot;张&quot;</span>, <span class="string">&quot;孔&quot;</span>, <span class="string">&quot;曹&quot;</span>, <span class="string">&quot;严&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;金&quot;</span>, <span class="string">&quot;魏&quot;</span>,</span><br><span class="line"><span class="string">&quot;陶&quot;</span>, <span class="string">&quot;姜&quot;</span>, <span class="string">&quot;戚&quot;</span>, <span class="string">&quot;谢&quot;</span>, <span class="string">&quot;邹&quot;</span>, <span class="string">&quot;喻&quot;</span>, <span class="string">&quot;柏&quot;</span>, <span class="string">&quot;水&quot;</span>, <span class="string">&quot;窦&quot;</span>, <span class="string">&quot;章&quot;</span>,</span><br><span class="line"><span class="string">&quot;云&quot;</span>, <span class="string">&quot;苏&quot;</span>, <span class="string">&quot;潘&quot;</span>, <span class="string">&quot;葛&quot;</span>, <span class="string">&quot;奚&quot;</span>, <span class="string">&quot;范&quot;</span>, <span class="string">&quot;彭&quot;</span>, <span class="string">&quot;郎&quot;</span>, <span class="string">&quot;鲁&quot;</span>, <span class="string">&quot;韦&quot;</span>,</span><br><span class="line"><span class="string">&quot;昌&quot;</span>, <span class="string">&quot;马&quot;</span>, <span class="string">&quot;苗&quot;</span>, <span class="string">&quot;凤&quot;</span>, <span class="string">&quot;花&quot;</span>, <span class="string">&quot;方&quot;</span>, <span class="string">&quot;俞&quot;</span>, <span class="string">&quot;任&quot;</span>, <span class="string">&quot;袁&quot;</span>, <span class="string">&quot;柳&quot;</span>,</span><br><span class="line"><span class="string">&quot;酆&quot;</span>, <span class="string">&quot;鲍&quot;</span>, <span class="string">&quot;史&quot;</span>, <span class="string">&quot;唐&quot;</span>, <span class="string">&quot;费&quot;</span>, <span class="string">&quot;廉&quot;</span>, <span class="string">&quot;岑&quot;</span>, <span class="string">&quot;薛&quot;</span>, <span class="string">&quot;雷&quot;</span>, <span class="string">&quot;贺&quot;</span>,</span><br><span class="line"><span class="string">&quot;倪&quot;</span>, <span class="string">&quot;汤&quot;</span>, <span class="string">&quot;滕&quot;</span>, <span class="string">&quot;殷&quot;</span>, <span class="string">&quot;罗&quot;</span>, <span class="string">&quot;毕&quot;</span>, <span class="string">&quot;郝&quot;</span>, <span class="string">&quot;邬&quot;</span>, <span class="string">&quot;安&quot;</span>, <span class="string">&quot;常&quot;</span>,</span><br><span class="line"><span class="string">&quot;乐&quot;</span>, <span class="string">&quot;于&quot;</span>, <span class="string">&quot;时&quot;</span>, <span class="string">&quot;傅&quot;</span>, <span class="string">&quot;皮&quot;</span>, <span class="string">&quot;卞&quot;</span>, <span class="string">&quot;齐&quot;</span>, <span class="string">&quot;康&quot;</span>, <span class="string">&quot;伍&quot;</span>, <span class="string">&quot;余&quot;</span>,</span><br><span class="line"><span class="string">&quot;元&quot;</span>, <span class="string">&quot;卜&quot;</span>, <span class="string">&quot;顾&quot;</span>, <span class="string">&quot;孟&quot;</span>, <span class="string">&quot;平&quot;</span>, <span class="string">&quot;黄&quot;</span>, <span class="string">&quot;和&quot;</span>, <span class="string">&quot;穆&quot;</span>, <span class="string">&quot;萧&quot;</span>, <span class="string">&quot;尹&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">string biname[<span class="number">50</span>] = &#123;</span><br><span class="line">    <span class="string">&quot;伟&quot;</span>, <span class="string">&quot;芳&quot;</span>, <span class="string">&quot;娜&quot;</span>, <span class="string">&quot;秀英&quot;</span>, <span class="string">&quot;敏&quot;</span>, <span class="string">&quot;静&quot;</span>, <span class="string">&quot;丽&quot;</span>, <span class="string">&quot;强&quot;</span>, <span class="string">&quot;磊&quot;</span>, <span class="string">&quot;军&quot;</span>,</span><br><span class="line">    <span class="string">&quot;洋&quot;</span>, <span class="string">&quot;勇&quot;</span>, <span class="string">&quot;艳&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;涛&quot;</span>, <span class="string">&quot;明&quot;</span>, <span class="string">&quot;超&quot;</span>, <span class="string">&quot;秀兰&quot;</span>, <span class="string">&quot;霞&quot;</span>,</span><br><span class="line">    <span class="string">&quot;平&quot;</span>, <span class="string">&quot;刚&quot;</span>, <span class="string">&quot;桂英&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;兰&quot;</span>, <span class="string">&quot;飞&quot;</span>, <span class="string">&quot;英&quot;</span>, <span class="string">&quot;健&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;亮&quot;</span>,</span><br><span class="line">    <span class="string">&quot;刚&quot;</span>, <span class="string">&quot;秀英&quot;</span>, <span class="string">&quot;敏&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;丽&quot;</span>, <span class="string">&quot;强&quot;</span>, <span class="string">&quot;磊&quot;</span>, <span class="string">&quot;军&quot;</span>, <span class="string">&quot;洋&quot;</span>,</span><br><span class="line">    <span class="string">&quot;勇&quot;</span>, <span class="string">&quot;艳&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;涛&quot;</span>, <span class="string">&quot;明&quot;</span>, <span class="string">&quot;超&quot;</span>, <span class="string">&quot;秀兰&quot;</span>, <span class="string">&quot;霞&quot;</span>, <span class="string">&quot;平&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>作为姓与名的组合数组，名字将从中产生</p>
<h2 id="Visitor"><a href="#Visitor" class="headerlink" title="$Visitor$"></a>$Visitor$</h2><p>该类是成人和孩子类的基础。将为会游客赋值于id</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Visitor::<span class="built_in">Visitor</span>() &#123;</span><br><span class="line">    id = <span class="number">120000</span> + <span class="built_in">rand</span>() % <span class="number">9999</span> + <span class="number">1</span>;</span><br><span class="line">&#125;;<span class="comment">//写入id</span></span><br><span class="line">Visitor::~<span class="built_in">Visitor</span>() &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>构造函数与析构函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Visitor::writeID</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    id = <span class="number">120000</span> + <span class="built_in">rand</span>() % <span class="number">9999</span> + <span class="number">1</span>;</span><br><span class="line">&#125;<span class="comment">//重写id</span></span><br></pre></td></tr></table></figure>
<p>后续对id判断时可以依此函数进行重写</p>
<h2 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="$Zookeeper$"></a>$Zookeeper$</h2><p>该类对兽栏进行维护，同时会在每日结算时对$Zookeeper$的打扫日常进行判断，如已达上限，则动物园停止经营。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"> Zookeeper::<span class="built_in">Zookeeper</span>()</span><br><span class="line">&#123;</span><br><span class="line">    clean_day=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Zookeeper::~<span class="built_in">Zookeeper</span>()&#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>构造与析构</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zookeeper::writeday</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    clean_day+=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Zookeeper::reday</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> clean_day;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用于返回和写入信息</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Zookeeper::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(clean_day&gt;=<span class="number">7</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关闭了，因为动物园管理员打扫得够多了，就辞职了！&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该函数会在每日结算时进行检查</p>
<h2 id="Foodseller"><a href="#Foodseller" class="headerlink" title="$Foodseller$"></a>$Foodseller$</h2><p>该类作为zoo中常驻的类，每天开始都需要与游客互动，对他维护的食物数目数组进行修改，同时其资产也会增加。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Foodseller::<span class="built_in">Foodseller</span>()<span class="comment">//构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;食品销售商上班了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    food_money[<span class="number">0</span>] = <span class="number">0.2</span>;</span><br><span class="line">    food_money[<span class="number">1</span>] = <span class="number">0.3</span>;</span><br><span class="line">    food_money[<span class="number">2</span>] = <span class="number">0.5</span>;</span><br><span class="line">    Peanuts = <span class="number">10000</span>;</span><br><span class="line">    Carrots = <span class="number">7000</span>;</span><br><span class="line">    Bananas = <span class="number">4000</span>;</span><br><span class="line">    mount[<span class="number">0</span>] =Peanuts;</span><br><span class="line">    mount[<span class="number">1</span>] = Carrots;</span><br><span class="line">    mount[<span class="number">2</span>] = Bananas;</span><br><span class="line">&#125;</span><br><span class="line">Foodseller::~<span class="built_in">Foodseller</span>() &#123;&#125;;<span class="comment">//析构</span></span><br></pre></td></tr></table></figure>
<p>构造函数，对价目表和数目表初始化</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span>* <span class="title">foodarry</span><span class="params">()</span></span>;<span class="comment">//传出食物数量数组</span></span><br><span class="line"><span class="function"><span class="type">double</span>* <span class="title">foodprise</span><span class="params">()</span></span>;<span class="comment">//穿出食物价格</span></span><br><span class="line"><span class="function">Money&amp; <span class="title">re_money</span><span class="params">()</span></span>;<span class="comment">//返回钱包</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">re_dollar</span><span class="params">()</span></span>;<span class="comment">//看看钱</span></span><br></pre></td></tr></table></figure>
<p>返回数组等成员的函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Foodseller::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mount[<span class="number">0</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的花生用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mount[<span class="number">1</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的胡萝卜用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mount[<span class="number">2</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的香蕉用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每日结束时进行信息检查，若触发则进行结算</p>
<h2 id="Child"><a href="#Child" class="headerlink" title="$Child$"></a>$Child$</h2><p>该类继承自类$Visitor$,每个孩子都会维护一个自己持有的食物的数组。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Child::<span class="built_in">Child</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">write_age</span>();</span><br><span class="line">    number[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    number[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    number[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Child::~<span class="built_in">Child</span>() &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>构造与析构</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">write_age</span><span class="params">()</span></span>;<span class="comment">//年龄</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">write_num</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;<span class="comment">//写入食物数据</span></span><br></pre></td></tr></table></figure>
<p>返回数据的函数</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Child::feed</span><span class="params">(AnimalEnclosure *animalEnclosure)</span><span class="comment">//默认顺序,将孩子的食物分配完</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=number[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> b=number[<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> c=number[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> d[<span class="number">3</span>]=&#123;a,b,c&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(animalEnclosure[i].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">        animalEnclosure[i].<span class="built_in">writecle</span>(d[i]);<span class="comment">//增加清洁度</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">0</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">0</span>].<span class="built_in">useelephant</span>(a);</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">1</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">1</span>].<span class="built_in">usegiraffe</span>(b);</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">2</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">2</span>].<span class="built_in">usemonkey</span>(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>首先对兽栏的清洁度进行操作，即writecle函数。然后调用use函数，连接到feed函数，统一接口后对每个动物的食物进行写访问。</p>
<h2 id="Adults"><a href="#Adults" class="headerlink" title="$Adults$"></a>$Adults$</h2><p>成人类，有$Child$的动态数组，有购票和购买食物的行为</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Adults::<span class="built_in">Adults</span>()<span class="comment">//构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">    a_child = <span class="built_in">rand</span>() % <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line">    money_dol = <span class="built_in">rand</span>() % <span class="number">10</span> + <span class="number">10</span>;</span><br><span class="line">    money_cen=<span class="number">0</span>;</span><br><span class="line">    money.<span class="built_in">writeIN</span>(money_dol, money_cen);</span><br><span class="line">    child = <span class="keyword">new</span> Child[a_child];</span><br><span class="line">    <span class="built_in">write_age</span>();</span><br><span class="line">&#125;;</span><br><span class="line">Adults::~<span class="built_in">Adults</span>() </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(child!=<span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">delete</span>[]child;</span><br><span class="line">    child=<span class="literal">nullptr</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>构造函数：生成钱包内的美元数，和随行的孩子数，然后创建孩子的动态数组。</p>
<p>析构函数：检查指针是否为空再释放，防止悬挂</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::buyticket</span><span class="params">()</span><span class="comment">//初始购票</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    money - (<span class="number">1</span> + a_child * <span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>购票，包含成人的和孩子的</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::feed</span><span class="params">(AnimalEnclosure animalEnclosure[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">re_chi</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        child[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//间接调用feed</span></span><br></pre></td></tr></table></figure>
<p>间接调用feed函数，依此对三种动物的食物进行操作</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::buyfood</span><span class="params">(<span class="type">int</span>* a,<span class="type">int</span> &amp;b)</span><span class="comment">//a为数量，b为价格</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//5|2|2;</span></span><br><span class="line">    <span class="type">int</span> temp[<span class="number">3</span>];</span><br><span class="line">    temp[<span class="number">0</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.2</span>;</span><br><span class="line">    temp[<span class="number">1</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.3</span>;</span><br><span class="line">    temp[<span class="number">2</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.5</span>;<span class="comment">//购买的食物数组</span></span><br><span class="line">    <span class="type">int</span> total=money.<span class="built_in">outdol</span>()/<span class="number">1</span>;</span><br><span class="line">    b+=total;<span class="comment">//商人的钱</span></span><br><span class="line">    <span class="type">int</span> average=total/<span class="built_in">re_chi</span>();</span><br><span class="line">    <span class="type">int</span> child_num=<span class="built_in">re_chi</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)<span class="comment">//商人存货减少</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[i]-=temp[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp[i]=temp[i]/child_num;</span><br><span class="line">        <span class="keyword">if</span>(temp[i]==<span class="number">0</span>)</span><br><span class="line">        temp[i]=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="comment">//平均食物数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;child_num;i++)<span class="comment">//分配,孩子指针</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)<span class="comment">//食物指针</span></span><br><span class="line">        &#123;</span><br><span class="line">            child[i].<span class="built_in">write_num</span>(j,temp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>成人的购买食物函数，传入商人的食物数组，根据购买的食物进行操作。然后，对买的三种食物分别求取平均值，分配给孩子。</p>
<h2 id="Zoo"><a href="#Zoo" class="headerlink" title="$Zoo$"></a>$Zoo$</h2><p>作为动物园运行的基础，该类将包含食品商，清理工，兽栏数组和成年人的动态数组，以及分别模拟一天和长期的函数。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zoo::oneday</span><span class="params">()</span><span class="comment">//模拟第一天</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     a_adu = <span class="built_in">rand</span>() % <span class="number">21</span> + <span class="number">20</span>;<span class="comment">//成人随机数</span></span><br><span class="line">    adult = <span class="keyword">new</span> Adults[a_adu];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;a_adu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a_chi+=adult[i].<span class="built_in">re_chi</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;开业第 &quot;</span> &lt;&lt; date &lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;游客进入&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;有 &quot;</span> &lt;&lt; a_adu &lt;&lt; <span class="string">&quot; 个成年游客带着 &quot;</span> &lt;&lt;a_chi&lt;&lt;<span class="string">&quot;个孩子&quot;</span>&lt;&lt; endl;</span><br><span class="line">    total_adu+=a_adu;<span class="comment">//计入总数</span></span><br><span class="line">    total_chi+=a_chi;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">createarry</span>(i);</span><br><span class="line">    &#125;<span class="comment">//为兽栏配置名字</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        adult[i].<span class="built_in">buyticket</span>();</span><br><span class="line">    &#125;<span class="comment">//配置票</span></span><br><span class="line">    <span class="type">int</span> moner_oneday=<span class="number">0</span>;<span class="comment">//一天的钱</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       adult[i].<span class="built_in">buyfood</span>(foodseller.<span class="built_in">foodarry</span>(), moner_oneday);</span><br><span class="line">       adult[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;<span class="comment">//购置食物</span></span><br><span class="line">    foodseller.<span class="built_in">re_money</span>()+=moner_oneday;<span class="comment">//计入食品销售</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">check1</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!animalEnclosure[i].<span class="built_in">check2</span>(i))</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//小孩喂食，传入兽栏数组</span></span><br><span class="line">    <span class="comment">//至此目前任务已完成，接下来为输出</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;至此，动物园开了 &quot;</span>&lt;&lt;date&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;该轮模拟中,共有 &quot;</span>&lt;&lt;total_adu&lt;&lt;<span class="string">&quot; 个成年游客，和 &quot;</span>&lt;&lt;total_chi&lt;&lt;<span class="string">&quot; 个孩子&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商总共赚了 &quot;</span>&lt;&lt;foodseller.<span class="built_in">re_dollar</span>()&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;<span class="comment">//接受随机数，并开访客数组</span></span><br></pre></td></tr></table></figure>
<p>仅模拟一天</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zoo::allday</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(date=<span class="number">1</span>;;date++)</span><br><span class="line">    &#123;</span><br><span class="line">    a_adu = <span class="built_in">rand</span>() % <span class="number">21</span> + <span class="number">20</span>;<span class="comment">//成人随机数</span></span><br><span class="line">    a_chi=<span class="number">0</span>;</span><br><span class="line">    adult = <span class="keyword">new</span> Adults[a_adu];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;a_adu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a_chi+=adult[i].<span class="built_in">re_chi</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;开业第 &quot;</span> &lt;&lt; date &lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;游客进入&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;有 &quot;</span> &lt;&lt; a_adu &lt;&lt; <span class="string">&quot; 个成年游客带着 &quot;</span> &lt;&lt;a_chi&lt;&lt;<span class="string">&quot;个孩子&quot;</span>&lt;&lt; endl;</span><br><span class="line">    total_adu+=a_adu;<span class="comment">//计入总数</span></span><br><span class="line">    total_chi+=a_chi;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">createarry</span>(i);</span><br><span class="line">    &#125;<span class="comment">//为兽栏配置名字</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        adult[i].<span class="built_in">buyticket</span>();</span><br><span class="line">    &#125;<span class="comment">//配置票</span></span><br><span class="line">    <span class="type">int</span> moner_oneday=<span class="number">0</span>;<span class="comment">//一天的钱</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       adult[i].<span class="built_in">buyfood</span>(foodseller.<span class="built_in">foodarry</span>(), moner_oneday);</span><br><span class="line">       adult[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;<span class="comment">//购置食物</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商今天赚了 &quot;</span>&lt;&lt;moner_oneday&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">    foodseller.<span class="built_in">re_money</span>()+=moner_oneday;<span class="comment">//计入食品销售</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">check1</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!animalEnclosure[i].<span class="built_in">check2</span>(i))</span><br><span class="line">        &#123;</span><br><span class="line">            zookeeper.<span class="built_in">writeday</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> []adult;</span><br><span class="line">    adult=<span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">//劲爆尾杀，结算动画</span></span><br><span class="line">    <span class="keyword">if</span>(!zookeeper.<span class="built_in">check</span>())</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span>(!foodseller.<span class="built_in">check</span>())</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//至此目前任务已完成，接下来为输出</span></span><br><span class="line">    &#125;</span><br><span class="line">     cout&lt;&lt;<span class="string">&quot;至此，动物园开了 &quot;</span>&lt;&lt;date&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;该轮模拟中,共有 &quot;</span>&lt;&lt;total_adu&lt;&lt;<span class="string">&quot; 个成年游客，和 &quot;</span>&lt;&lt;total_chi&lt;&lt;<span class="string">&quot; 个孩子&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商总共赚了 &quot;</span>&lt;&lt;foodseller.<span class="built_in">re_dollar</span>()&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;清理员总共清理了 &quot;</span>&lt;&lt;zookeeper.<span class="built_in">reday</span>()&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;模拟中，三个兽栏各自关闭了 &quot;</span>&lt;&lt;animalEnclosure[<span class="number">0</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;animalEnclosure[<span class="number">1</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;animalEnclosure[<span class="number">2</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每天模拟开始时，根据随机数得到成人的数组，完成购票($buyticket$)，购买食物($buyfood$),喂养($feed$)三个步骤，然后对每个数据进行检查，如不符合，则经营结束。此外，还要释放内存，并重写为nullptr，以便下次赋值。</p>
<h1 id="实验代码"><a href="#实验代码" class="headerlink" title="实验代码"></a>实验代码</h1><h2 id="Zoo-h"><a href="#Zoo-h" class="headerlink" title="$Zoo.h$"></a>$Zoo.h$</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ZOO_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ZOO_H</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Money</span><span class="comment">//美元美分类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> dollars;<span class="comment">//拆分的美元</span></span><br><span class="line">    <span class="type">int</span> cents;<span class="comment">//拆分的美分</span></span><br><span class="line">    <span class="type">double</span> dollar;<span class="comment">//美元单位金额</span></span><br><span class="line">    <span class="type">double</span> cent;<span class="comment">//美分单位金额</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Money</span>();</span><br><span class="line">    <span class="built_in">Money</span>(<span class="type">int</span>, <span class="type">int</span>);<span class="comment">//初始化并得到各单位总量和个数;</span></span><br><span class="line">    ~<span class="built_in">Money</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writeIN</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;<span class="comment">//写入美元美分</span></span><br><span class="line">    Money&amp; <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符+</span></span><br><span class="line">    Money&amp; <span class="keyword">operator</span>-(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符-</span></span><br><span class="line">    Money&amp; <span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符+=</span></span><br><span class="line">    Money&amp; <span class="keyword">operator</span>-=(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符-=</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符&gt;</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> <span class="type">double</span>&amp; q);<span class="comment">//重载运算符&lt;</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">turn_dol</span><span class="params">()</span></span>;<span class="comment">//得到单位美元</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">turn_cen</span><span class="params">()</span></span>;<span class="comment">//得到单位美分</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">outdol</span><span class="params">()</span></span>;<span class="comment">//返回美元单位</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">outcen</span><span class="params">()</span></span>;<span class="comment">//返回美分单位</span></span><br><span class="line">&#125;;<span class="comment">//交易时用单位$交易，然后再拆分转化</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span><span class="comment">//抽象类动物</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Animal</span>();</span><br><span class="line">    ~<span class="built_in">Animal</span>();</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>=<span class="number">0</span>;<span class="comment">//返回最值</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>=<span class="number">0</span>;<span class="comment">//写入最值</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>=<span class="number">0</span>;<span class="comment">//写入每日数据</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>=<span class="number">0</span>;<span class="comment">//返回每日数据</span></span><br><span class="line">    <span class="type">double</span> weight;</span><br><span class="line">    <span class="type">int</span> total_food;</span><br><span class="line">    <span class="type">int</span> most_food;</span><br><span class="line">    <span class="type">int</span> daily_food;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span><span class="comment">//抽象类人</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string forname[<span class="number">100</span>] = &#123;</span><br><span class="line">    <span class="string">&quot;赵&quot;</span>, <span class="string">&quot;钱&quot;</span>, <span class="string">&quot;孙&quot;</span>, <span class="string">&quot;李&quot;</span>, <span class="string">&quot;周&quot;</span>, <span class="string">&quot;吴&quot;</span>, <span class="string">&quot;郑&quot;</span>, <span class="string">&quot;王&quot;</span>, <span class="string">&quot;冯&quot;</span>, <span class="string">&quot;陈&quot;</span>,</span><br><span class="line">    <span class="string">&quot;褚&quot;</span>, <span class="string">&quot;卫&quot;</span>, <span class="string">&quot;蒋&quot;</span>, <span class="string">&quot;沈&quot;</span>, <span class="string">&quot;韩&quot;</span>, <span class="string">&quot;杨&quot;</span>, <span class="string">&quot;朱&quot;</span>, <span class="string">&quot;秦&quot;</span>, <span class="string">&quot;尤&quot;</span>, <span class="string">&quot;许&quot;</span>,</span><br><span class="line">    <span class="string">&quot;何&quot;</span>, <span class="string">&quot;吕&quot;</span>, <span class="string">&quot;施&quot;</span>, <span class="string">&quot;张&quot;</span>, <span class="string">&quot;孔&quot;</span>, <span class="string">&quot;曹&quot;</span>, <span class="string">&quot;严&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;金&quot;</span>, <span class="string">&quot;魏&quot;</span>,</span><br><span class="line">    <span class="string">&quot;陶&quot;</span>, <span class="string">&quot;姜&quot;</span>, <span class="string">&quot;戚&quot;</span>, <span class="string">&quot;谢&quot;</span>, <span class="string">&quot;邹&quot;</span>, <span class="string">&quot;喻&quot;</span>, <span class="string">&quot;柏&quot;</span>, <span class="string">&quot;水&quot;</span>, <span class="string">&quot;窦&quot;</span>, <span class="string">&quot;章&quot;</span>,</span><br><span class="line">    <span class="string">&quot;云&quot;</span>, <span class="string">&quot;苏&quot;</span>, <span class="string">&quot;潘&quot;</span>, <span class="string">&quot;葛&quot;</span>, <span class="string">&quot;奚&quot;</span>, <span class="string">&quot;范&quot;</span>, <span class="string">&quot;彭&quot;</span>, <span class="string">&quot;郎&quot;</span>, <span class="string">&quot;鲁&quot;</span>, <span class="string">&quot;韦&quot;</span>,</span><br><span class="line">    <span class="string">&quot;昌&quot;</span>, <span class="string">&quot;马&quot;</span>, <span class="string">&quot;苗&quot;</span>, <span class="string">&quot;凤&quot;</span>, <span class="string">&quot;花&quot;</span>, <span class="string">&quot;方&quot;</span>, <span class="string">&quot;俞&quot;</span>, <span class="string">&quot;任&quot;</span>, <span class="string">&quot;袁&quot;</span>, <span class="string">&quot;柳&quot;</span>,</span><br><span class="line">    <span class="string">&quot;酆&quot;</span>, <span class="string">&quot;鲍&quot;</span>, <span class="string">&quot;史&quot;</span>, <span class="string">&quot;唐&quot;</span>, <span class="string">&quot;费&quot;</span>, <span class="string">&quot;廉&quot;</span>, <span class="string">&quot;岑&quot;</span>, <span class="string">&quot;薛&quot;</span>, <span class="string">&quot;雷&quot;</span>, <span class="string">&quot;贺&quot;</span>,</span><br><span class="line">    <span class="string">&quot;倪&quot;</span>, <span class="string">&quot;汤&quot;</span>, <span class="string">&quot;滕&quot;</span>, <span class="string">&quot;殷&quot;</span>, <span class="string">&quot;罗&quot;</span>, <span class="string">&quot;毕&quot;</span>, <span class="string">&quot;郝&quot;</span>, <span class="string">&quot;邬&quot;</span>, <span class="string">&quot;安&quot;</span>, <span class="string">&quot;常&quot;</span>,</span><br><span class="line">    <span class="string">&quot;乐&quot;</span>, <span class="string">&quot;于&quot;</span>, <span class="string">&quot;时&quot;</span>, <span class="string">&quot;傅&quot;</span>, <span class="string">&quot;皮&quot;</span>, <span class="string">&quot;卞&quot;</span>, <span class="string">&quot;齐&quot;</span>, <span class="string">&quot;康&quot;</span>, <span class="string">&quot;伍&quot;</span>, <span class="string">&quot;余&quot;</span>,</span><br><span class="line">    <span class="string">&quot;元&quot;</span>, <span class="string">&quot;卜&quot;</span>, <span class="string">&quot;顾&quot;</span>, <span class="string">&quot;孟&quot;</span>, <span class="string">&quot;平&quot;</span>, <span class="string">&quot;黄&quot;</span>, <span class="string">&quot;和&quot;</span>, <span class="string">&quot;穆&quot;</span>, <span class="string">&quot;萧&quot;</span>, <span class="string">&quot;尹&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    string biname[<span class="number">50</span>] = &#123;</span><br><span class="line">        <span class="string">&quot;伟&quot;</span>, <span class="string">&quot;芳&quot;</span>, <span class="string">&quot;娜&quot;</span>, <span class="string">&quot;秀英&quot;</span>, <span class="string">&quot;敏&quot;</span>, <span class="string">&quot;静&quot;</span>, <span class="string">&quot;丽&quot;</span>, <span class="string">&quot;强&quot;</span>, <span class="string">&quot;磊&quot;</span>, <span class="string">&quot;军&quot;</span>,</span><br><span class="line">        <span class="string">&quot;洋&quot;</span>, <span class="string">&quot;勇&quot;</span>, <span class="string">&quot;艳&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;涛&quot;</span>, <span class="string">&quot;明&quot;</span>, <span class="string">&quot;超&quot;</span>, <span class="string">&quot;秀兰&quot;</span>, <span class="string">&quot;霞&quot;</span>,</span><br><span class="line">        <span class="string">&quot;平&quot;</span>, <span class="string">&quot;刚&quot;</span>, <span class="string">&quot;桂英&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;兰&quot;</span>, <span class="string">&quot;飞&quot;</span>, <span class="string">&quot;英&quot;</span>, <span class="string">&quot;健&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;亮&quot;</span>,</span><br><span class="line">        <span class="string">&quot;刚&quot;</span>, <span class="string">&quot;秀英&quot;</span>, <span class="string">&quot;敏&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;丽&quot;</span>, <span class="string">&quot;强&quot;</span>, <span class="string">&quot;磊&quot;</span>, <span class="string">&quot;军&quot;</span>, <span class="string">&quot;洋&quot;</span>,</span><br><span class="line">        <span class="string">&quot;勇&quot;</span>, <span class="string">&quot;艳&quot;</span>, <span class="string">&quot;杰&quot;</span>, <span class="string">&quot;娟&quot;</span>, <span class="string">&quot;涛&quot;</span>, <span class="string">&quot;明&quot;</span>, <span class="string">&quot;超&quot;</span>, <span class="string">&quot;秀兰&quot;</span>, <span class="string">&quot;霞&quot;</span>, <span class="string">&quot;平&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>();</span><br><span class="line">    ~<span class="built_in">Person</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">write_name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">write_age</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Elephant</span> :<span class="keyword">public</span> Animal<span class="comment">//大象类</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Elephant</span>();</span><br><span class="line">    ~<span class="built_in">Elephant</span>();</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>;<span class="comment">//返回最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入每日食物</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>;<span class="comment">//返回每日食物</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> trunk_length;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Giraffe</span>:<span class="keyword">public</span> Animal<span class="comment">//长颈鹿类</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Giraffe</span>();</span><br><span class="line">    ~<span class="built_in">Giraffe</span>();</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>;<span class="comment">//返回最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入每日食物</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>;<span class="comment">//返回每日食物</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> neck_length;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Monkey</span> :<span class="keyword">public</span> Animal<span class="comment">//猴类</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Monkey</span>();</span><br><span class="line">    ~<span class="built_in">Monkey</span>();</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">remost</span><span class="params">()</span></span>;<span class="comment">//返回最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writemost</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入最值</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writedaily</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//写入每日食物</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">redaily</span><span class="params">()</span></span>;<span class="comment">//返回每日食物</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> arm_length;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AnimalEnclosure</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">AnimalEnclosure</span>();<span class="comment">//常规构造</span></span><br><span class="line">    ~<span class="built_in">AnimalEnclosure</span>();<span class="comment">//delete</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">createarry</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//构造动态数组</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">re_cle</span><span class="params">()</span></span>;<span class="comment">//返回清洁度</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">re_opc</span><span class="params">()</span></span>;<span class="comment">//返回打开与否；</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writecle</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//修改清洁度</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writeopen</span><span class="params">(<span class="type">bool</span>)</span></span>;<span class="comment">//修改开闭</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">check1</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check2</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//战后总结，顺手返回打扫天数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">usegiraffe</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">useelephant</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">usemonkey</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//为调用嘴</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">close</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//总结后宣告闭馆</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">open</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//总结后宣告开馆</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">out</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> closeday;</span><br><span class="line">    <span class="type">int</span> clean_level;</span><br><span class="line">    <span class="type">bool</span> open_close;</span><br><span class="line">    <span class="type">int</span> closetime;</span><br><span class="line">    Giraffe giraffes;</span><br><span class="line">    Elephant elephants;</span><br><span class="line">    Monkey monkeys;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Visitor</span> :<span class="keyword">public</span> Person<span class="comment">//继承自person的游客类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string id;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Visitor</span>();<span class="comment">//写入id</span></span><br><span class="line">    ~<span class="built_in">Visitor</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writeID</span><span class="params">()</span></span>;<span class="comment">//重写Id</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Zookeeper</span> :<span class="keyword">public</span> Person<span class="comment">//员工类</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Zookeeper</span>();</span><br><span class="line">    ~<span class="built_in">Zookeeper</span>();</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">writeday</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">reday</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> clean_day;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Foodseller</span> :<span class="keyword">public</span> Person<span class="comment">//食品商类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Foodseller</span>();</span><br><span class="line">    ~<span class="built_in">Foodseller</span>() ;</span><br><span class="line">    <span class="function"><span class="type">int</span>* <span class="title">foodarry</span><span class="params">()</span></span>;<span class="comment">//传出食物数量数组</span></span><br><span class="line">    <span class="function"><span class="type">double</span>* <span class="title">foodprise</span><span class="params">()</span></span>;<span class="comment">//穿出食物价格</span></span><br><span class="line">    <span class="function">Money&amp; <span class="title">re_money</span><span class="params">()</span></span>;<span class="comment">//返回钱包</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">re_dollar</span><span class="params">()</span></span>;<span class="comment">//看看钱</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">double</span> food_money[<span class="number">3</span>];<span class="comment">//静态数组，价格表</span></span><br><span class="line">    Money money;</span><br><span class="line">    <span class="type">int</span> mount[<span class="number">3</span>];<span class="comment">//数目表</span></span><br><span class="line">    <span class="type">int</span> Peanuts;</span><br><span class="line">    <span class="type">int</span> Carrots;</span><br><span class="line">    <span class="type">int</span> Bananas;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> :<span class="keyword">public</span> Visitor<span class="comment">//游客子类，孩子</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string* food_own;</span><br><span class="line">    <span class="type">int</span>* food_num;</span><br><span class="line">    <span class="type">int</span> number[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Child</span>();</span><br><span class="line">    ~<span class="built_in">Child</span>();</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">write_age</span><span class="params">()</span></span>;<span class="comment">//年龄</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">write_num</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;<span class="comment">//写入食物数据</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">feed</span><span class="params">(AnimalEnclosure *)</span></span>;<span class="comment">//喂食</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">text</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Adults</span> :<span class="keyword">public</span> Visitor<span class="comment">//游客子类，成人</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Adults</span>();<span class="comment">//初始</span></span><br><span class="line">    ~<span class="built_in">Adults</span>();</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">write_age</span><span class="params">()</span></span>;<span class="comment">//生成年龄                    </span></span><br><span class="line">    Money money; </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">buyticket</span><span class="params">()</span></span>;<span class="comment">//买票</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">re_chi</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">buyfood</span><span class="params">(<span class="type">int</span>*,<span class="type">int</span>&amp;)</span></span>;<span class="comment">//根据食物数量买</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">feed</span><span class="params">(AnimalEnclosure [])</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">text</span><span class="params">()</span></span>;<span class="comment">//测试</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> a_child;</span><br><span class="line">    <span class="type">int</span> money_dol;</span><br><span class="line">    <span class="type">int</span> money_cen;</span><br><span class="line">    Child* child ;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Zoo</span><span class="comment">//类动物园</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Zoo</span>();</span><br><span class="line">    ~<span class="built_in">Zoo</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">oneday</span><span class="params">()</span></span>;<span class="comment">//模拟第一天</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">allday</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> total_adu;</span><br><span class="line">    <span class="type">int</span> total_chi;</span><br><span class="line">    <span class="type">int</span> a_adu;</span><br><span class="line">    <span class="type">int</span> a_chi;</span><br><span class="line">    <span class="type">int</span> date;</span><br><span class="line">    Zookeeper zookeeper;</span><br><span class="line">    Adults* adult;</span><br><span class="line">    Foodseller foodseller;</span><br><span class="line">    AnimalEnclosure animalEnclosure[<span class="number">3</span>];</span><br><span class="line">&#125;;<span class="comment">//包含一天，推至全部</span></span><br><span class="line"><span class="type">double</span> Foodseller::food_money[<span class="number">3</span>] = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">feedfood</span><span class="params">(Animal &amp;a,<span class="type">int</span> food)</span></span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Zoo-cpp"><a href="#Zoo-cpp" class="headerlink" title="$Zoo.cpp$"></a>$Zoo.cpp$</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ZOO.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//-------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//zoo</span></span><br><span class="line">Zoo::<span class="built_in">Zoo</span>()</span><br><span class="line">&#123;</span><br><span class="line">    total_adu=<span class="number">0</span>;</span><br><span class="line">    total_chi=<span class="number">0</span>;</span><br><span class="line">    a_chi=<span class="number">0</span>;</span><br><span class="line">    a_adu=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">age</span><span class="params">(Person a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    a.<span class="built_in">write_age</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zoo::oneday</span><span class="params">()</span><span class="comment">//模拟第一天</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     a_adu = <span class="built_in">rand</span>() % <span class="number">21</span> + <span class="number">20</span>;<span class="comment">//成人随机数</span></span><br><span class="line">    adult = <span class="keyword">new</span> Adults[a_adu];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;a_adu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a_chi+=adult[i].<span class="built_in">re_chi</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;开业第 &quot;</span> &lt;&lt; date &lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;游客进入&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;有 &quot;</span> &lt;&lt; a_adu &lt;&lt; <span class="string">&quot; 个成年游客带着 &quot;</span> &lt;&lt;a_chi&lt;&lt;<span class="string">&quot;个孩子&quot;</span>&lt;&lt; endl;</span><br><span class="line">    total_adu+=a_adu;<span class="comment">//计入总数</span></span><br><span class="line">    total_chi+=a_chi;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">createarry</span>(i);</span><br><span class="line">    &#125;<span class="comment">//为兽栏配置名字</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        adult[i].<span class="built_in">buyticket</span>();</span><br><span class="line">    &#125;<span class="comment">//配置票</span></span><br><span class="line">    <span class="type">int</span> moner_oneday=<span class="number">0</span>;<span class="comment">//一天的钱</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       adult[i].<span class="built_in">buyfood</span>(foodseller.<span class="built_in">foodarry</span>(), moner_oneday);</span><br><span class="line">       adult[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;<span class="comment">//购置食物</span></span><br><span class="line">    foodseller.<span class="built_in">re_money</span>()+=moner_oneday;<span class="comment">//计入食品销售</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">check1</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!animalEnclosure[i].<span class="built_in">check2</span>(i))</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//小孩喂食，传入兽栏数组</span></span><br><span class="line">    <span class="comment">//至此目前任务已完成，接下来为输出</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;至此，动物园开了 &quot;</span>&lt;&lt;date&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;该轮模拟中,共有 &quot;</span>&lt;&lt;total_adu&lt;&lt;<span class="string">&quot; 个成年游客，和 &quot;</span>&lt;&lt;total_chi&lt;&lt;<span class="string">&quot; 个孩子&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商总共赚了 &quot;</span>&lt;&lt;foodseller.<span class="built_in">re_dollar</span>()&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;<span class="comment">//接受随机数，并开访客数组</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zoo::allday</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(date=<span class="number">1</span>;;date++)</span><br><span class="line">    &#123;</span><br><span class="line">    a_adu = <span class="built_in">rand</span>() % <span class="number">21</span> + <span class="number">20</span>;<span class="comment">//成人随机数</span></span><br><span class="line">    a_chi=<span class="number">0</span>;</span><br><span class="line">    adult = <span class="keyword">new</span> Adults[a_adu];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;a_adu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a_chi+=adult[i].<span class="built_in">re_chi</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;开业第 &quot;</span> &lt;&lt; date &lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;游客进入&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;有 &quot;</span> &lt;&lt; a_adu &lt;&lt; <span class="string">&quot; 个成年游客带着 &quot;</span> &lt;&lt;a_chi&lt;&lt;<span class="string">&quot;个孩子&quot;</span>&lt;&lt; endl;</span><br><span class="line">    total_adu+=a_adu;<span class="comment">//计入总数</span></span><br><span class="line">    total_chi+=a_chi;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">createarry</span>(i);</span><br><span class="line">    &#125;<span class="comment">//为兽栏配置名字</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        adult[i].<span class="built_in">buyticket</span>();</span><br><span class="line">    &#125;<span class="comment">//配置票</span></span><br><span class="line">    <span class="type">int</span> moner_oneday=<span class="number">0</span>;<span class="comment">//一天的钱</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a_adu; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       adult[i].<span class="built_in">buyfood</span>(foodseller.<span class="built_in">foodarry</span>(), moner_oneday);</span><br><span class="line">       adult[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;<span class="comment">//购置食物</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商今天赚了 &quot;</span>&lt;&lt;moner_oneday&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">    foodseller.<span class="built_in">re_money</span>()+=moner_oneday;<span class="comment">//计入食品销售</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        animalEnclosure[i].<span class="built_in">check1</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!animalEnclosure[i].<span class="built_in">check2</span>(i))</span><br><span class="line">        &#123;</span><br><span class="line">            zookeeper.<span class="built_in">writeday</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> []adult;</span><br><span class="line">    adult=<span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">//劲爆尾杀，结算动画</span></span><br><span class="line">    <span class="keyword">if</span>(!zookeeper.<span class="built_in">check</span>())</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">if</span>(!foodseller.<span class="built_in">check</span>())</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//至此目前任务已完成，接下来为输出</span></span><br><span class="line">    &#125;</span><br><span class="line">     cout&lt;&lt;<span class="string">&quot;至此，动物园开了 &quot;</span>&lt;&lt;date&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;该轮模拟中,共有 &quot;</span>&lt;&lt;total_adu&lt;&lt;<span class="string">&quot; 个成年游客，和 &quot;</span>&lt;&lt;total_chi&lt;&lt;<span class="string">&quot; 个孩子&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;食品商总共赚了 &quot;</span>&lt;&lt;foodseller.<span class="built_in">re_dollar</span>()&lt;&lt;<span class="string">&quot; 美元&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;清理员总共清理了 &quot;</span>&lt;&lt;zookeeper.<span class="built_in">reday</span>()&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;模拟中，三个兽栏各自关闭了 &quot;</span>&lt;&lt;animalEnclosure[<span class="number">0</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;animalEnclosure[<span class="number">1</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;animalEnclosure[<span class="number">2</span>].<span class="built_in">out</span>()&lt;&lt;<span class="string">&quot; 天&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">Zoo::~<span class="built_in">Zoo</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(adult!=<span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">delete</span>[]adult;</span><br><span class="line">    adult=<span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//------------------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//Money</span></span><br><span class="line">Money::<span class="built_in">Money</span>()<span class="comment">//初始设置为0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">writeIN</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Money::<span class="built_in">Money</span>(<span class="type">int</span> a, <span class="type">int</span> b) :<span class="built_in">dollars</span>(a), <span class="built_in">cents</span>(b)<span class="comment">//带入值的初始化并得到各单位总量和个数;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">turn_dol</span>();</span><br><span class="line">    <span class="built_in">turn_cen</span>();</span><br><span class="line">&#125;</span><br><span class="line">Money::~<span class="built_in">Money</span>()</span><br><span class="line">&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Money::writeIN</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span><span class="comment">//写入美元美分</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dollars = a;</span><br><span class="line">    cents = b;</span><br><span class="line">    <span class="built_in">turn_dol</span>();</span><br><span class="line">    <span class="built_in">turn_cen</span>();</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money::<span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符+</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar += q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>-(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符-</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar -= q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符+=</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar += q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Money&amp; Money:: <span class="keyword">operator</span>-=(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符-=</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;dollar -= q;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> Money:: <span class="keyword">operator</span>&gt;(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;dollar &gt; q)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> Money:: <span class="keyword">operator</span>&lt;(<span class="type">const</span> <span class="type">double</span>&amp; q)<span class="comment">//重载运算符&lt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;dollar &lt; q)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Money::turn_dol</span><span class="params">()</span><span class="comment">//得到单位美元</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dollar = dollars + cents * <span class="number">0.01</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Money::turn_cen</span><span class="params">()</span><span class="comment">//得到单位美分</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cent = <span class="number">100</span> * dollars + cents;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Money::outdol</span><span class="params">()</span><span class="comment">//返回美元单位</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dollar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Money::outcen</span><span class="params">()</span><span class="comment">//返回美分单位</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//交易时用单位$交易，然后再拆分转化</span></span><br><span class="line"><span class="comment">//----------------------------------------------------------------------------------------animal</span></span><br><span class="line"><span class="comment">//animal</span></span><br><span class="line">Animal::<span class="built_in">Animal</span>()<span class="comment">//先初始化，后子类初始化，覆盖</span></span><br><span class="line">&#123;</span><br><span class="line">    weight=<span class="number">0</span>;</span><br><span class="line">    total_food=<span class="number">0</span>;</span><br><span class="line">    daily_food=<span class="number">0</span>;</span><br><span class="line">    most_food=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Animal::~<span class="built_in">Animal</span>()&#123;&#125;;</span><br><span class="line"><span class="comment">//-----------------------------------------------------------elephant</span></span><br><span class="line"><span class="comment">//elehant</span></span><br><span class="line">Elephant::<span class="built_in">Elephant</span>()</span><br><span class="line">&#123;</span><br><span class="line">    most_food=<span class="number">750</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Elephant::~<span class="built_in">Elephant</span>()&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Elephant::remost</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Elephant::writemost</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    most_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Elephant::writedaily</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    daily_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入日常食物</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Elephant::redaily</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回日常食物</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------giraffe</span></span><br><span class="line"><span class="comment">//giraffe</span></span><br><span class="line">Giraffe::<span class="built_in">Giraffe</span>()</span><br><span class="line">&#123;</span><br><span class="line">    most_food=<span class="number">500</span>;</span><br><span class="line">&#125;</span><br><span class="line">Giraffe::~<span class="built_in">Giraffe</span>()&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Giraffe::remost</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Giraffe::writemost</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    most_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Giraffe::writedaily</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    daily_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入日常食物</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Giraffe::redaily</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回日常食物</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------Monkey</span></span><br><span class="line"><span class="comment">//Monkey</span></span><br><span class="line">Monkey::<span class="built_in">Monkey</span>()</span><br><span class="line">&#123;</span><br><span class="line">    most_food=<span class="number">300</span>;</span><br><span class="line">&#125;</span><br><span class="line">Monkey::~<span class="built_in">Monkey</span>()&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Monkey::remost</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Monkey::writemost</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    most_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入最大食物</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Monkey::writedaily</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    daily_food+=a;</span><br><span class="line">&#125;<span class="comment">//写入日常食物</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Monkey::redaily</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> daily_food;</span><br><span class="line">&#125;<span class="comment">//返回日常食物</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------animalenclouser</span></span><br><span class="line"><span class="comment">//AnimalEnclosure</span></span><br><span class="line">AnimalEnclosure::<span class="built_in">AnimalEnclosure</span>()<span class="comment">//构造初始</span></span><br><span class="line">&#123;</span><br><span class="line">    clean_level=<span class="number">0</span>;</span><br><span class="line">    open_close=<span class="literal">true</span>;</span><br><span class="line">    closeday=<span class="number">0</span>;</span><br><span class="line">    closetime=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::createarry</span><span class="params">(<span class="type">int</span> a)</span><span class="comment">//待命构造</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(a)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="comment">//长颈鹿</span></span><br><span class="line">        name=<span class="string">&quot;giraffes&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        name=<span class="string">&quot;elephants&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        name=<span class="string">&quot;monkey&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">AnimalEnclosure::~<span class="built_in">AnimalEnclosure</span>()&#123;&#125;;<span class="comment">//析构</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">AnimalEnclosure::re_cle</span><span class="params">()</span><span class="comment">//返回清洁度</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> clean_level;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">AnimalEnclosure::re_opc</span><span class="params">()</span><span class="comment">//返回开闭</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> open_close;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::writecle</span><span class="params">(<span class="type">int</span> a)</span><span class="comment">//写入清洁度</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    clean_level+=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::writeopen</span><span class="params">(<span class="type">bool</span> a)</span><span class="comment">//写入状态</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    open_close=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::check1</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(closetime==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        closetime=<span class="number">0</span>;<span class="comment">//先检查关闭时间</span></span><br><span class="line">        clean_level=<span class="number">0</span>;<span class="comment">//打扫后归0；</span></span><br><span class="line">        open_close=<span class="literal">true</span>;<span class="comment">//重新开关</span></span><br><span class="line">        <span class="built_in">open</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">AnimalEnclosure::check2</span><span class="params">(<span class="type">int</span> i)</span><span class="comment">//检查,每日结束时检查，清洁度小于2000的为开，大于2000变为关。</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(clean_level&gt;<span class="number">2000</span>)<span class="comment">//关馆打扫，隔日清零</span></span><br><span class="line">    &#123;</span><br><span class="line">    open_close=<span class="literal">false</span>; </span><br><span class="line">    closeday++;</span><br><span class="line">    closetime=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">close</span>(i);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//漏网检查</span></span><br><span class="line">    &#123;</span><br><span class="line">    open_close=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//状态为关的还要一天闭馆</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::usegiraffe</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">feedfood</span>(giraffes,a);</span><br><span class="line">&#125;<span class="comment">//调用</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::useelephant</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">feedfood</span>(elephants,a);</span><br><span class="line">&#125;<span class="comment">//调用</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::usemonkey</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">feedfood</span>(monkeys,a);</span><br><span class="line">&#125;<span class="comment">//调用</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::close</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;大象的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;长颈鹿的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;猴子的兽栏关闭了，一天后恢复&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AnimalEnclosure::open</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(i)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;大象的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;长颈鹿的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;猴子的兽栏开启了&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">AnimalEnclosure::out</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> closeday;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//animal作为基类，是三种动物的父类，三种动物组合成为各自围栏，围栏有清洁度，清洁度需要检查。</span></span><br><span class="line"><span class="comment">//通过animalenclose访问得到具体的动物，并喂食</span></span><br><span class="line"><span class="comment">//虚函数实现喂食，喂食上限由构造函数实现</span></span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------------Person</span></span><br><span class="line"><span class="comment">//person</span></span><br><span class="line">Person::<span class="built_in">Person</span>() &#123;</span><br><span class="line">    <span class="type">int</span> index1 = <span class="built_in">rand</span>() % <span class="number">99</span>;</span><br><span class="line">    <span class="type">int</span> index2 = <span class="built_in">rand</span>() % <span class="number">49</span>;</span><br><span class="line">    name = forname[index1] + biname[index2];</span><br><span class="line">&#125;;<span class="comment">//写入名字</span></span><br><span class="line">Person::~<span class="built_in">Person</span>() &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Person::write_name</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> index1 = <span class="built_in">rand</span>() % <span class="number">99</span>;</span><br><span class="line">    <span class="type">int</span> index2 = <span class="built_in">rand</span>() % <span class="number">49</span>;</span><br><span class="line">    name = forname[index1] + biname[index2];</span><br><span class="line">&#125;<span class="comment">//重写名字</span></span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------------visitor</span></span><br><span class="line"><span class="comment">//visitor</span></span><br><span class="line">Visitor::<span class="built_in">Visitor</span>() &#123;</span><br><span class="line">    id = <span class="number">120000</span> + <span class="built_in">rand</span>() % <span class="number">9999</span> + <span class="number">1</span>;</span><br><span class="line">&#125;;<span class="comment">//写入id</span></span><br><span class="line">Visitor::~<span class="built_in">Visitor</span>() &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Visitor::writeID</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    id = <span class="number">120000</span> + <span class="built_in">rand</span>() % <span class="number">9999</span> + <span class="number">1</span>;</span><br><span class="line">&#125;<span class="comment">//重写id</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------childs</span></span><br><span class="line"><span class="comment">//childs</span></span><br><span class="line">Child::<span class="built_in">Child</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">write_age</span>();</span><br><span class="line">    number[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    number[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    number[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Child::~<span class="built_in">Child</span>() &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Child::write_age</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    age = <span class="built_in">rand</span>() % <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Child::write_num</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    number[i] += y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Child::feed</span><span class="params">(AnimalEnclosure *animalEnclosure)</span><span class="comment">//默认顺序,将孩子的食物分配完</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=number[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> b=number[<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> c=number[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> d[<span class="number">3</span>]=&#123;a,b,c&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(animalEnclosure[i].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">        animalEnclosure[i].<span class="built_in">writecle</span>(d[i]);<span class="comment">//增加清洁度</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">0</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">0</span>].<span class="built_in">useelephant</span>(a);</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">1</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">1</span>].<span class="built_in">usegiraffe</span>(b);</span><br><span class="line">    <span class="keyword">if</span>(animalEnclosure[<span class="number">2</span>].<span class="built_in">re_opc</span>()==<span class="literal">true</span>)</span><br><span class="line">    animalEnclosure[<span class="number">2</span>].<span class="built_in">usemonkey</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Child::text</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> number[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//----------------------------------------------------------------------------------------Foodseller</span></span><br><span class="line"><span class="comment">//Foodseller</span></span><br><span class="line">Foodseller::<span class="built_in">Foodseller</span>()<span class="comment">//构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;食品销售商上班了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    food_money[<span class="number">0</span>] = <span class="number">0.2</span>;</span><br><span class="line">    food_money[<span class="number">1</span>] = <span class="number">0.3</span>;</span><br><span class="line">    food_money[<span class="number">2</span>] = <span class="number">0.5</span>;</span><br><span class="line">    Peanuts = <span class="number">10000</span>;</span><br><span class="line">    Carrots = <span class="number">7000</span>;</span><br><span class="line">    Bananas = <span class="number">4000</span>;</span><br><span class="line">    mount[<span class="number">0</span>] =Peanuts;</span><br><span class="line">    mount[<span class="number">1</span>] = Carrots;</span><br><span class="line">    mount[<span class="number">2</span>] = Bananas;</span><br><span class="line">&#125;</span><br><span class="line">Foodseller::~<span class="built_in">Foodseller</span>() &#123;&#125;;<span class="comment">//析构</span></span><br><span class="line"><span class="function"><span class="type">int</span>* <span class="title">Foodseller::foodarry</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> mount;</span><br><span class="line">&#125;<span class="comment">//返回食物数量</span></span><br><span class="line"><span class="function"><span class="type">double</span>* <span class="title">Foodseller::foodprise</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> food_money;</span><br><span class="line">&#125;<span class="comment">//返回食物价格</span></span><br><span class="line"><span class="function">Money&amp; <span class="title">Foodseller::re_money</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> money;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Foodseller::re_dollar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> money.<span class="built_in">outdol</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Foodseller::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mount[<span class="number">0</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的花生用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mount[<span class="number">1</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的胡萝卜用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mount[<span class="number">2</span>]&lt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关门了，因为卖家的香蕉用完了。&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//----------------------------------------------------------------------------------------adult</span></span><br><span class="line"><span class="comment">//adult</span></span><br><span class="line">Adults::<span class="built_in">Adults</span>()<span class="comment">//构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">    a_child = <span class="built_in">rand</span>() % <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line">    money_dol = <span class="built_in">rand</span>() % <span class="number">10</span> + <span class="number">10</span>;</span><br><span class="line">    money_cen=<span class="number">0</span>;</span><br><span class="line">    money.<span class="built_in">writeIN</span>(money_dol, money_cen);</span><br><span class="line">    child = <span class="keyword">new</span> Child[a_child];</span><br><span class="line">    <span class="built_in">write_age</span>();</span><br><span class="line">&#125;;</span><br><span class="line">Adults::~<span class="built_in">Adults</span>() </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(child!=<span class="literal">nullptr</span>)</span><br><span class="line">    <span class="keyword">delete</span>[]child;</span><br><span class="line">    child=<span class="literal">nullptr</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Adults::re_chi</span><span class="params">()</span><span class="comment">//返回成人带的小孩数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a_child;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::buyticket</span><span class="params">()</span><span class="comment">//初始购票</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    money - (<span class="number">1</span> + a_child * <span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::write_age</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    age = <span class="built_in">rand</span>() % <span class="number">29</span> + <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::feed</span><span class="params">(AnimalEnclosure animalEnclosure[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">re_chi</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        child[i].<span class="built_in">feed</span>(animalEnclosure);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//间接调用feed</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Adults::buyfood</span><span class="params">(<span class="type">int</span>* a,<span class="type">int</span> &amp;b)</span><span class="comment">//a为数量，b为价格</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//5|2|2;</span></span><br><span class="line">    <span class="type">int</span> temp[<span class="number">3</span>];</span><br><span class="line">    temp[<span class="number">0</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.2</span>;</span><br><span class="line">    temp[<span class="number">1</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.3</span>;</span><br><span class="line">    temp[<span class="number">2</span>]=(money.<span class="built_in">outdol</span>()/<span class="number">3</span>)/<span class="number">0.5</span>;<span class="comment">//购买的食物数组</span></span><br><span class="line">    <span class="type">int</span> total=money.<span class="built_in">outdol</span>()/<span class="number">1</span>;</span><br><span class="line">    b+=total;<span class="comment">//商人的钱</span></span><br><span class="line">    <span class="type">int</span> average=total/<span class="built_in">re_chi</span>();</span><br><span class="line">    <span class="type">int</span> child_num=<span class="built_in">re_chi</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)<span class="comment">//商人存货减少</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[i]-=temp[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp[i]=temp[i]/child_num;</span><br><span class="line">        <span class="keyword">if</span>(temp[i]==<span class="number">0</span>)</span><br><span class="line">        temp[i]=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="comment">//平均食物数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;child_num;i++)<span class="comment">//分配,孩子指针</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)<span class="comment">//食物指针</span></span><br><span class="line">        &#123;</span><br><span class="line">            child[i].<span class="built_in">write_num</span>(j,temp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Adults::text</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> child[<span class="number">0</span>].<span class="built_in">text</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------------------------------------------------zookeeper</span></span><br><span class="line"><span class="comment">//zookeeper</span></span><br><span class="line"> Zookeeper::<span class="built_in">Zookeeper</span>()</span><br><span class="line">&#123;</span><br><span class="line">    clean_day=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Zookeeper::~<span class="built_in">Zookeeper</span>()&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Zookeeper::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(clean_day&gt;=<span class="number">7</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;动物园关闭了，因为动物园管理员打扫得够多了，就辞职了！&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Zookeeper::writeday</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    clean_day+=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Zookeeper::reday</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> clean_day;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">feedfood</span><span class="params">(Animal &amp;a,<span class="type">int</span> food)</span><span class="comment">//虚函数写入吃食</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.<span class="built_in">redaily</span>()&lt;a.<span class="built_in">remost</span>())</span><br><span class="line">    a.<span class="built_in">writedaily</span>(food);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="main-cpp"><a href="#main-cpp" class="headerlink" title="$main.cpp$"></a>$main.cpp$</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ZOO.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Zoo.cpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line">    Zoo zoo;</span><br><span class="line">    zoo.<span class="built_in">allday</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="实验反思与改进"><a href="#实验反思与改进" class="headerlink" title="实验反思与改进"></a>实验反思与改进</h1><ul>
<li>多态的构建并不完善，因为从child调用函数，所以可以更改为从child得到数据，随后由animal调用函数</li>
<li>相关功能可完善，比如动物类还有一些数据成员关联到函数。</li>
<li>动态数组的释放需要慎重考量，释放时记得判断是否为空。</li>
<li>清洁工的最大打扫天数可随游戏天数变化而变化</li>
</ul>
<h1 id="输出展示"><a href="#输出展示" class="headerlink" title="输出展示"></a>输出展示</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">清理工廉勇上班了</span><br><span class="line">食品销售商王艳上班了</span><br><span class="line">开业第 1 天</span><br><span class="line">游客进入</span><br><span class="line">有 21 个成年游客带着 39个孩子</span><br><span class="line">食品商今天赚了 257 美元</span><br><span class="line">开业第 2 天</span><br><span class="line">游客进入</span><br><span class="line">有 40 个成年游客带着 90个孩子</span><br><span class="line">食品商今天赚了 467 美元</span><br><span class="line">开业第 3 天</span><br><span class="line">游客进入</span><br><span class="line">有 23 个成年游客带着 51个孩子</span><br><span class="line">食品商今天赚了 311 美元</span><br><span class="line">开业第 4 天</span><br><span class="line">游客进入</span><br><span class="line">有 29 个成年游客带着 62个孩子</span><br><span class="line">食品商今天赚了 381 美元</span><br><span class="line">大象的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 5 天</span><br><span class="line">游客进入</span><br><span class="line">有 29 个成年游客带着 50个孩子</span><br><span class="line">食品商今天赚了 342 美元</span><br><span class="line">大象的兽栏开启了</span><br><span class="line">开业第 6 天</span><br><span class="line">游客进入</span><br><span class="line">有 22 个成年游客带着 46个孩子</span><br><span class="line">食品商今天赚了 267 美元</span><br><span class="line">长颈鹿的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 7 天</span><br><span class="line">游客进入</span><br><span class="line">有 35 个成年游客带着 76个孩子</span><br><span class="line">食品商今天赚了 422 美元</span><br><span class="line">长颈鹿的兽栏开启了</span><br><span class="line">开业第 8 天</span><br><span class="line">游客进入</span><br><span class="line">有 21 个成年游客带着 42个孩子</span><br><span class="line">食品商今天赚了 247 美元</span><br><span class="line">开业第 9 天</span><br><span class="line">游客进入</span><br><span class="line">有 40 个成年游客带着 87个孩子</span><br><span class="line">食品商今天赚了 484 美元</span><br><span class="line">大象的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 10 天</span><br><span class="line">游客进入</span><br><span class="line">有 27 个成年游客带着 55个孩子</span><br><span class="line">食品商今天赚了 321 美元</span><br><span class="line">大象的兽栏开启了</span><br><span class="line">猴子的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 11 天</span><br><span class="line">游客进入</span><br><span class="line">有 22 个成年游客带着 40个孩子</span><br><span class="line">食品商今天赚了 278 美元</span><br><span class="line">猴子的兽栏开启了</span><br><span class="line">开业第 12 天</span><br><span class="line">游客进入</span><br><span class="line">有 30 个成年游客带着 60个孩子</span><br><span class="line">食品商今天赚了 365 美元</span><br><span class="line">开业第 13 天</span><br><span class="line">游客进入</span><br><span class="line">有 40 个成年游客带着 93个孩子</span><br><span class="line">食品商今天赚了 483 美元</span><br><span class="line">长颈鹿的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 14 天</span><br><span class="line">游客进入</span><br><span class="line">有 37 个成年游客带着 76个孩子</span><br><span class="line">食品商今天赚了 480 美元</span><br><span class="line">长颈鹿的兽栏开启了</span><br><span class="line">大象的兽栏关闭了，一天后恢复</span><br><span class="line">开业第 15 天</span><br><span class="line">游客进入</span><br><span class="line">有 40 个成年游客带着 75个孩子</span><br><span class="line">食品商今天赚了 504 美元</span><br><span class="line">大象的兽栏开启了</span><br><span class="line">开业第 16 天</span><br><span class="line">游客进入</span><br><span class="line">有 33 个成年游客带着 64个孩子</span><br><span class="line">食品商今天赚了 420 美元</span><br><span class="line">动物园关门了，因为卖家的花生用完了。</span><br><span class="line">至此，动物园开了 16 天</span><br><span class="line">该轮模拟中,共有 489 个成年游客，和 1006 个孩子</span><br><span class="line">食品商总共赚了 6029 美元</span><br><span class="line">清理员总共清理了 6 天</span><br><span class="line">模拟中，三个兽栏各自关闭了 3 2 1 天</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.lafael.top">surtr lafael</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.lafael.top/2024/04/09/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E5%9B%9B/">https://www.lafael.top/2024/04/09/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E5%9B%9B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.lafael.top" target="_blank">Hephaestus</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c-%E5%AE%9E%E9%AA%8C/">c++实验</a></div><div class="post_share"><div class="social-share" data-image="https://img2.imgtp.com/2024/04/09/6ykkiLXS.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/11/%E5%AE%9E%E8%AE%AD0-1/" title="实训0.1"><img class="cover" src="https://img2.imgtp.com/2024/04/11/arHgPUrt.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">实训0.1</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/08/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E4%B8%89/" title="cpp春实验三"><img class="cover" src="https://img2.imgtp.com/2024/04/09/IyRIZLqN.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">cpp春实验三</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/04/08/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E4%B8%89/" title="cpp春实验三"><img class="cover" src="https://img2.imgtp.com/2024/04/09/IyRIZLqN.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-08</div><div class="title">cpp春实验三</div></div></a></div><div><a href="/2024/04/08/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E4%BA%8C/" title="cpp春实验二"><img class="cover" src="https://img2.imgtp.com/2024/04/08/B9t5o8lR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-08</div><div class="title">cpp春实验二</div></div></a></div><div><a href="/2024/03/11/cpp%E6%98%A5%E5%AE%9E%E9%AA%8C%E4%B8%80/" title="cpp春实验一"><img class="cover" src="https://img2.imgtp.com/2024/04/08/JnvOeFHp.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-11</div><div class="title">cpp春实验一</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">surtr lafael</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lafaeier"><i class="fab fa-github"></i><span>今四,50,喜奔。</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lafaeier" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:hamiltonlafael@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">(阴暗的爬行)陆地,太过干燥,无鳞,离群的同胞,我呼唤你,带你归巢(嘶吼)。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text">实验目的</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.</span> <span class="toc-text">实验步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Money"><span class="toc-number">2.1.</span> <span class="toc-text">$Money$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Animal"><span class="toc-number">2.2.</span> <span class="toc-text">$Animal$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Elephant-amp-Giraffe-amp-Monkey"><span class="toc-number">2.3.</span> <span class="toc-text">$Elephant$&amp;$Giraffe$&amp;$Monkey $</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AnimalEnclosure"><span class="toc-number">2.4.</span> <span class="toc-text">$AnimalEnclosure$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Person"><span class="toc-number">2.5.</span> <span class="toc-text">$Person$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Visitor"><span class="toc-number">2.6.</span> <span class="toc-text">$Visitor$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zookeeper"><span class="toc-number">2.7.</span> <span class="toc-text">$Zookeeper$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Foodseller"><span class="toc-number">2.8.</span> <span class="toc-text">$Foodseller$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Child"><span class="toc-number">2.9.</span> <span class="toc-text">$Child$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adults"><span class="toc-number">2.10.</span> <span class="toc-text">$Adults$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zoo"><span class="toc-number">2.11.</span> <span class="toc-text">$Zoo$</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text">实验代码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Zoo-h"><span class="toc-number">3.1.</span> <span class="toc-text">$Zoo.h$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zoo-cpp"><span class="toc-number">3.2.</span> <span class="toc-text">$Zoo.cpp$</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main-cpp"><span class="toc-number">3.3.</span> <span class="toc-text">$main.cpp$</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8F%8D%E6%80%9D%E4%B8%8E%E6%94%B9%E8%BF%9B"><span class="toc-number">4.</span> <span class="toc-text">实验反思与改进</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E5%B1%95%E7%A4%BA"><span class="toc-number">5.</span> <span class="toc-text">输出展示</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By surtr lafael</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Ding Zhen and his animal friends are watching you</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script defer src="/js/light.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/sakura.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>